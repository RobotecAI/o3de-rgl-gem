flowchart TD
    RP[Ray Poses] --> RR[Ray Ranges]
    RR --> LT[Lidar Transform]
    LT -->|Noise enabled| AN[Angular Noise]
    LT -->|Noise disabled| RT[Ray Trace]
    AN --> RT
    RT -->|Noise enabled| DN[Distance Noise]
    RT -->|Noise disabled| DNY[Yield Node]
    DN --> DNY
    DNY -->|Compact enabled| PC[Points Compact]
    DNY -->|Compact disabled| PCY[Yield Node]
    PC --> PCY
    PCY --> PF1[Points Format]
    PCY -->|Publishing enabled| PT[Points Transform]
    PT --> PF2[Points Format]
    PF2 --> PCP[Point Cloud Publish]
